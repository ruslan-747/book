<!-- eslint-disable max-len -->
<template>
  <div class="cpu">
    <page-heading>Процессор</page-heading>
    <page-text>Центра́льный проце́ссор (ЦП; также центра́льное проце́ссорное устро́йство — ЦПУ; англ. central processing unit, CPU, дословно — центральное обрабатывающее устройство, часто просто процессор) — электронный блок либо интегральная схема, исполняющая машинные инструкции (код программ), главная часть аппаратного обеспечения компьютера или программируемого логического контроллера. Иногда называют микропроцессором или просто процессором.</page-text>
    <page-text>Изначально термин центральное процессорное устройство описывал специализированный класс логических машин, предназначенных для выполнения сложных компьютерных программ. Вследствие довольно точного соответствия этого назначения функциям существовавших в то время компьютерных процессоров он естественным образом был перенесён на сами компьютеры. Начало применения термина и его аббревиатуры по отношению к компьютерным системам было положено в 1960-е годы. Устройство, архитектура и реализация процессоров с тех пор неоднократно менялись, однако их основные исполняемые функции остались теми же, что и прежде.</page-text>
    <page-text>Главными характеристиками ЦПУ являются: тактовая частота, производительность, энергопотребление, нормы литографического процесса, используемого при производстве (для микропроцессоров), и архитектура.</page-text>
    <page-text>Ранние ЦП создавались в виде уникальных составных частей для уникальных и даже единственных в своём роде компьютерных систем. Позднее от дорогостоящего способа разработки процессоров, предназначенных для выполнения одной единственной или нескольких узкоспециализированных программ, производители компьютеров перешли к серийному изготовлению типовых классов многоцелевых процессорных устройств. Тенденция к стандартизации компьютерных комплектующих зародилась в эпоху бурного развития полупроводниковых элементов, мейнфреймов и мини-компьютеров, а с появлением интегральных схем она стала ещё более популярной. Создание микросхем позволило ещё больше увеличить сложность ЦП с одновременным уменьшением их физических размеров. Стандартизация и миниатюризация процессоров привели к глубокому проникновению основанных на них цифровых устройств в повседневную жизнь человека. Современные процессоры можно найти не только в таких высокотехнологичных устройствах, как компьютеры, но и в автомобилях, калькуляторах, мобильных телефонах и даже в детских игрушках. Чаще всего они представлены микроконтроллерами, где, помимо вычислительного устройства, на кристалле расположены дополнительные компоненты (память программ и данных, интерфейсы, порты ввода-вывода, таймеры и др.). Современные вычислительные возможности микроконтроллера сравнимы с процессорами персональных ЭВМ десятилетней давности, а чаще даже значительно превосходят их показатели.</page-text>
    <page-section heading="Архитектура фон Неймана"/>
    <page-text>Большинство современных процессоров для персональных компьютеров в общем основано на той или иной версии циклического процесса последовательной обработки данных, изобретённого Джоном фон Нейманом.</page-text>
    <page-text>Дж. фон Нейман придумал схему постройки компьютера в 1946 году.</page-text>
    <page-text>Отличительной особенностью архитектуры фон Неймана является то, что инструкции и данные хранятся в одной и той же памяти.</page-text>
    <page-text>В различных архитектурах и для различных команд могут потребоваться дополнительные этапы. Например, для арифметических команд могут потребоваться дополнительные обращения к памяти, во время которых производится считывание операндов и запись результатов.</page-text>
    <page-text>Этапы цикла выполнения:</page-text>
    <page-list :list-items="[
      'Процессор выставляет число, хранящееся в регистре счётчика команд, на шину адреса и отдаёт памяти команду чтения.',
      'Выставленное число является для памяти адресом; память, получив адрес и команду чтения, выставляет содержимое, хранящееся по этому адресу, на шину данных и сообщает о готовности.',
      'Процессор получает число с шины данных, интерпретирует его как команду (машинную инструкцию) из своей системы команд и исполняет её.',
      'Если последняя команда не является командой перехода, процессор увеличивает на единицу (в предположении, что длина каждой команды равна единице) число, хранящееся в счётчике команд; в результате там образуется адрес следующей команды.'
    ]"/>
    <page-text>Данный цикл выполняется неизменно, и именно он называется процессом (откуда и произошло название устройства).</page-text>
    <page-text>Во время процесса процессор считывает последовательность команд, содержащихся в памяти, и исполняет их. Такая последовательность команд называется программой и представляет алгоритм работы процессора. Очерёдность считывания команд изменяется в случае, если процессор считывает команду перехода, — тогда адрес следующей команды может оказаться другим. Другим примером изменения процесса может служить случай получения команды останова или переключение в режим обработки прерывания.</page-text>
    <page-text>Команды центрального процессора являются самым нижним уровнем управления компьютером, поэтому выполнение каждой команды неизбежно и безусловно. Не производится никакой проверки на допустимость выполняемых действий, в частности, не проверяется возможная потеря ценных данных. Чтобы компьютер выполнял только допустимые действия, команды должны быть соответствующим образом организованы в виде необходимой программы.</page-text>
    <page-text>Скорость перехода от одного этапа цикла к другому определяется тактовым генератором. Тактовый генератор вырабатывает импульсы, служащие ритмом для центрального процессора. Частота тактовых импульсов называется тактовой частотой.</page-text>
    <page-subheading>Конвейерная архитектура</page-subheading>
    <page-text>Конвейерная архитектура (англ. pipelining) была введена в центральный процессор с целью повышения быстродействия. Обычно для выполнения каждой команды требуется осуществить некоторое количество однотипных операций, например: выборка команды из ОЗУ, дешифровка команды, адресация операнда в ОЗУ, выборка операнда из ОЗУ, выполнение команды, запись результата в ОЗУ. Каждую из этих операций сопоставляют одной ступени конвейера. Например, конвейер микропроцессора с архитектурой MIPS-I содержит четыре стадии:</page-text>
    <page-list :list-items="[
      'получение и декодирование инструкции,',
      'адресация и выборка операнда из ОЗУ,',
      'выполнение арифметических операций,',
      'сохранение результата операции.'
    ]"/>
    <page-text>После освобождения k-й ступени конвейера она сразу приступает к работе над следующей командой. Если предположить, что каждая ступень конвейера тратит единицу времени на свою работу, то выполнение команды на конвейере длиной в n ступеней займёт n единиц времени, однако в самом оптимистичном случае результат выполнения каждой следующей команды будет получаться через каждую единицу времени.</page-text>
    <page-text>Действительно, при отсутствии конвейера выполнение команды займёт n единиц времени (так как для выполнения команды по-прежнему необходимо выполнять выборку, дешифровку и т. д.), и для исполнения m команд понадобится n + m единиц времени; при использовании конвейера (в самом оптимистичном случае) для выполнения m команд понадобится всего лишь n+m единиц времени.</page-text>
    <page-text>Факторы, снижающие эффективность конвейера:</page-text>
    <page-list :list-items="[
      'Простой конвейера, когда некоторые ступени не используются (например, адресация и выборка операнда из ОЗУ не нужны, если команда работает с регистрами).',
      'Ожидание: если следующая команда использует результат предыдущей, то последняя не может начать выполняться до выполнения первой (это преодолевается при использовании внеочередного выполнения команд — out-of-order execution).',
      'Очистка конвейера при попадании в него команды перехода (эту проблему удаётся сгладить, используя предсказание переходов).'
    ]"/>
    <page-text>Некоторые современные процессоры имеют более 30 ступеней в конвейере, что повышает производительность процессора, но, однако, приводит к увеличению длительности простоя (например, в случае ошибки в предсказании условного перехода). Не существует единого мнения по поводу оптимальной длины конвейера: различные программы могут иметь существенно различные требования.</page-text>
    <page-subheading>Суперскалярная архитектура</page-subheading>
    <page-text>Способность выполнения нескольких машинных инструкций за один такт процессора путём увеличения числа исполнительных устройств. Появление этой технологии привело к существенному увеличению производительности, в то же время существует определённый предел роста числа исполнительных устройств, при превышении которого производительность практически перестает расти, а исполнительные устройства простаивают. Частичным решением этой проблемы является, например, технология Hyper-threading.</page-text>
    <page-subheading>CISC-процессоры</page-subheading>
    <page-text>Complex instruction set computer — вычисления со сложным набором команд. Процессорная архитектура, основанная на усложнённом наборе команд. Типичными представителями CISC являются микропроцессоры семейства x86 (хотя уже много лет эти процессоры являются CISC только по внешней системе команд: в начале процесса исполнения сложные команды разбиваются на более простые микрооперации (МОП), исполняемые RISC-ядром).</page-text>
    <page-subheading>RISC-процессоры</page-subheading>
    <page-text>Reduced instruction set computer — вычисления с упрощённым набором команд (в литературе слово reduced нередко ошибочно переводят как «сокращённый»). Архитектура процессоров, построенная на основе упрощённого набора команд, характеризуется наличием команд фиксированной длины, большого количества регистров, операций типа регистр-регистр, а также отсутствием косвенной адресации. Концепция RISC разработана Джоном Коком из IBM Research, название придумано Дэвидом Паттерсоном (David Patterson).</page-text>
    <page-text>Упрощение набора команд призвано сократить конвейер, что позволяет избежать задержек на операциях условных и безусловных переходов. Однородный набор регистров упрощает работу компилятора при оптимизации исполняемого программного кода. Кроме того, RISC-процессоры отличаются меньшим энергопотреблением и тепловыделением.</page-text>
    <page-text>Среди первых реализаций этой архитектуры были процессоры MIPS, PowerPC, SPARC, Alpha, PA-RISC. В мобильных устройствах широко используются ARM-процессоры.</page-text>
    <page-subheading>MISC-процессоры</page-subheading>
    <page-text>Minimum instruction set computer — вычисления с минимальным набором команд. Дальнейшее развитие идей команды Чака Мура, который полагает, что принцип простоты, изначальный для RISC-процессоров, слишком быстро отошёл на задний план. В пылу борьбы за максимальное быстродействие, RISC догнал и обогнал многие CISC-процессоры по сложности. Архитектура MISC строится на стековой вычислительной модели с ограниченным числом команд (примерно 20—30 команд).</page-text>
    <page-subheading>VLIW-процессоры</page-subheading>
    <page-text>Very long instruction word — сверхдлинное командное слово. Архитектура процессоров с явно выраженным параллелизмом вычислений, заложенным в систему команд процессора. Являются основой для архитектуры EPIC. Ключевым отличием от суперскалярных CISC-процессоров является то, что для них загрузкой исполнительных устройств занимается часть процессора (планировщик), на что отводится достаточно малое время, в то время как загрузкой вычислительных устройств для VLIW-процессора занимается компилятор, на что отводится существенно больше времени (качество загрузки и, соответственно, производительность теоретически должны быть выше).</page-text>
    <page-subheading>Многоядерные процессоры</page-subheading>
    <page-text>Содержат несколько процессорных ядер в одном корпусе (на одном или нескольких кристаллах).</page-text>
    <page-text>Процессоры, предназначенные для работы одной копии операционной системы на нескольких ядрах, представляют собой высокоинтегрированную реализацию мультипроцессорности.</page-text>
    <page-text>Первым многоядерным микропроцессором стал POWER4 от IBM, появившийся в 2001 году и имевший два ядра.</page-text>
    <page-text>В октябре 2004 года Sun Microsystems выпустила двухъядерный процессор UltraSPARC IV, который состоял из двух модифицированных ядер UltraSPARC III. В начале 2005 был создан двухъядерный UltraSPARC IV+.</page-text>
    <page-text>9 мая 2005 года AMD представила первый двухъядерный процессор на одном кристалле для пользовательских ПК — Athlon 64 X2 с ядром Manchester. Поставки новых процессоров официально начались 1 июня 2005 года.</page-text>
    <page-text>14 ноября 2005 года Sun выпустила восьмиядерный UltraSPARC T1, каждое ядро которого выполняло 4 потока.</page-text>
    <page-text>5 января 2006 года Intel представила первый двухъядерный процессор на одном кристалле Core Duo, для мобильной платформы.</page-text>
    <page-text>В ноябре 2006 года вышел первый четырёхъядерный процессор Intel Core 2 Quad на ядре Kentsfield, представляющий собой сборку из двух кристаллов Conroe в одном корпусе. Потомком этого процессора стал Intel Core 2 Quad на ядре Yorkfield (45 нм), архитектурно схожем с Kentsfield, но имеющем больший объём кэша и рабочие частоты.</page-text>
    <page-subheading>Кэширование</page-subheading>
    <page-text>Кэширование — это использование дополнительной быстродействующей памяти (так называемого кэша — англ. cache, от фр. cacher — «прятать») для хранения копий блоков информации из основной (оперативной) памяти, вероятность обращения к которым в ближайшее время велика.</page-text>
    <page-text>Различают кэши 1-, 2- и 3-го уровней (обозначаются L1, L2 и L3 — от Level 1, Level 2 и Level 3). Кэш 1-го уровня имеет наименьшую латентность (время доступа), но малый размер, кроме того, кэши первого уровня часто делаются многопортовыми. Так, процессоры AMD K8 умели производить одновременно 64-битные запись и чтение, либо два 64-битных чтения за такт, AMD K8L может производить два 128-битных чтения или записи в любой комбинации. Процессоры Intel Core 2 могут производить 128-битные запись и чтение за такт. Кэш 2-го уровня обычно имеет значительно большую латентность доступа, но его можно сделать значительно больше по размеру. Кэш 3-го уровня — самый большой по объёму и довольно медленный, но всё же он гораздо быстрее, чем оперативная память.</page-text>
    <page-section heading="Как выглядит процессор"/>
    <page-carousel :images="[
      'cpu1.png',
      'cpu2.png',
      'cpu3.png',
    ]"/>
    <page-section heading="Гарвардская архитектура"/>
    <page-text>Гарвардская архитектура отличается от архитектуры фон Неймана тем, что программный код и данные хранятся в разной памяти. В такой архитектуре невозможны многие методы программирования (например, программа не может во время выполнения менять свой код; невозможно динамически перераспределять память между программным кодом и данными); зато гарвардская архитектура позволяет более эффективно выполнять работу в случае ограниченных ресурсов, поэтому она часто применяется во встраиваемых системах.</page-text>
    <page-section heading="Параллельная архитектура"/>
    <page-text>Архитектура фон Неймана обладает тем недостатком, что она последовательная. Какой бы огромный массив данных ни требовалось обработать, каждый его байт должен будет пройти через центральный процессор, даже если над всеми байтами требуется провести одну и ту же операцию. Этот эффект называется узким горлышком фон Неймана.</page-text>
    <page-text>Для преодоления этого недостатка предлагались и предлагаются архитектуры процессоров, которые называются параллельными. Параллельные процессоры используются в суперкомпьютерах.</page-text>
    <page-text>Возможными вариантами параллельной архитектуры могут служить (по классификации Флинна):</page-text>
    <page-list :list-items="[
      'SISD — один поток команд, один поток данных;',
      'SIMD — один поток команд, много потоков данных;',
      'MISD — много потоков команд, один поток данных;',
      'MIMD — много потоков команд, много потоков данных.'
    ]"/>
    <page-subheading>Цифровые сигнальные процессоры</page-subheading>
    <page-text>Для цифровой обработки сигналов, особенно при ограниченном времени обработки, применяют специализированные высокопроизводительные сигнальные микропроцессоры (англ. digital signal processor, DSP) с параллельной архитектурой.</page-text>
    <page-section heading="Видео об основных характеристиках процессора"/>
    <div class="video-wrapper">
      <iframe class="video" src="https://www.youtube.com/embed/BSy90IOGeag" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
  </div>
</template>

<script>
import PageCarousel from '../components/PageCarousel.vue';
import PageList from '../components/PageList.vue';
import PageSection from '../components/PageSection.vue';
import PageHeading from '../components/PageHeading.vue';
import PageSubheading from '../components/PageSubheading.vue';
import PageText from '../components/PageText.vue';

export default {
  name: 'Cpu',
  components: {
    PageHeading,
    PageText,
    PageSection,
    PageList,
    PageSubheading,
    PageCarousel,
  },
};
</script>

<style scoped lang="scss">
@import "~bootstrap/scss/functions";
@import "~bootstrap/scss/variables";
@import "~bootstrap/scss/mixins";

.video-wrapper {
  padding-top: 25px;
  padding-bottom: 25px;
}

.video {
  width: 100%;
  height: 415px;
  margin: 0 auto;
  display: block;

  @include media-breakpoint-down(lg) {
    height: 215px;
  }
}
</style>
